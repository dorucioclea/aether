{
    "version": 3,
    "terraform_version": "0.9.4",
    "serial": 35,
    "lineage": "7c6fca51-0ac0-4f68-bcbd-40056861d90f",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {},
            "depends_on": []
        },
        {
            "path": [
                "root",
                "autoscaling"
            ],
            "outputs": {
                "aws_iam_instance_profile": {
                    "sensitive": false,
                    "type": "string",
                    "value": "terraform-007eefec754f605efa4dec1d44"
                },
                "aws_iam_role_ecs_service": {
                    "sensitive": false,
                    "type": "string",
                    "value": "gather2_prod007eefec754f605efa4dec1d3e"
                },
                "internal_sg_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-74929a0d"
                }
            },
            "resources": {
                "aws_autoscaling_group.asg": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_launch_configuration.lc"
                    ],
                    "primary": {
                        "id": "gather2-prod",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:eu-west-1:387526361725:autoScalingGroup:689f500f-66a1-49c0-86b9-98eecf47ae65:autoScalingGroupName/gather2-prod",
                            "availability_zones.#": "3",
                            "availability_zones.1924028850": "eu-west-1b",
                            "availability_zones.3953592328": "eu-west-1a",
                            "availability_zones.94988580": "eu-west-1c",
                            "default_cooldown": "300",
                            "desired_capacity": "1",
                            "force_delete": "false",
                            "health_check_grace_period": "120",
                            "health_check_type": "EC2",
                            "id": "gather2-prod",
                            "launch_configuration": "gather2-prod-007eefec754f605efa4dec1d48",
                            "load_balancers.#": "0",
                            "max_size": "2",
                            "metrics_granularity": "1Minute",
                            "min_size": "1",
                            "name": "gather2-prod",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "suspended_processes.#": "0",
                            "tag.#": "4",
                            "tag.1352522817.key": "CNAME",
                            "tag.1352522817.propagate_at_launch": "true",
                            "tag.1352522817.value": "",
                            "tag.141504167.key": "ZONE",
                            "tag.141504167.propagate_at_launch": "true",
                            "tag.141504167.value": "gather2.prod",
                            "tag.4264471784.key": "BILLING_PROJECT",
                            "tag.4264471784.propagate_at_launch": "true",
                            "tag.4264471784.value": "gather2",
                            "tag.631535114.key": "Name",
                            "tag.631535114.propagate_at_launch": "true",
                            "tag.631535114.value": "gather2-prod",
                            "target_group_arns.#": "3",
                            "target_group_arns.1492403602": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-core-prod/5896b0c6ad9180de",
                            "target_group_arns.1673743884": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-couchdb-sync-prod/8896da1f00618a19",
                            "target_group_arns.934513649": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-odk-prod/a6a7f20c6f509709",
                            "termination_policies.#": "1",
                            "termination_policies.0": "OldestInstance",
                            "vpc_zone_identifier.#": "3",
                            "vpc_zone_identifier.16579768": "subnet-21161745",
                            "vpc_zone_identifier.2022954451": "subnet-7daeaa0b",
                            "vpc_zone_identifier.3510046643": "subnet-1ad49642",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_instance_profile.app": {
                    "type": "aws_iam_instance_profile",
                    "depends_on": [
                        "aws_iam_role.app_instance"
                    ],
                    "primary": {
                        "id": "terraform-007eefec754f605efa4dec1d44",
                        "attributes": {
                            "arn": "arn:aws:iam::387526361725:instance-profile/terraform-007eefec754f605efa4dec1d44",
                            "id": "terraform-007eefec754f605efa4dec1d44",
                            "name": "terraform-007eefec754f605efa4dec1d44",
                            "path": "/",
                            "role": "terraform-007eefec754f605efa4dec1d3f",
                            "roles.#": "1",
                            "roles.1471803418": "terraform-007eefec754f605efa4dec1d3f",
                            "unique_id": "AIPAJDJVC3KV5ELCYAVA2"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_policy.ecr_read_only_policy": {
                    "type": "aws_iam_policy",
                    "depends_on": [
                        "data.template_file.ecr_read_only_policy"
                    ],
                    "primary": {
                        "id": "arn:aws:iam::387526361725:policy/ecr_read_only_policy007eefec754f605efa4dec1d40",
                        "attributes": {
                            "arn": "arn:aws:iam::387526361725:policy/ecr_read_only_policy007eefec754f605efa4dec1d40",
                            "id": "arn:aws:iam::387526361725:policy/ecr_read_only_policy007eefec754f605efa4dec1d40",
                            "name": "ecr_read_only_policy007eefec754f605efa4dec1d40",
                            "name_prefix": "ecr_read_only_policy",
                            "path": "/",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [{\n    \"Effect\": \"Allow\",\n    \"Action\": [\n      \"ecr:GetAuthorizationToken\",\n      \"ecr:BatchCheckLayerAvailability\",\n      \"ecr:GetDownloadUrlForLayer\",\n      \"ecr:GetRepositoryPolicy\",\n      \"ecr:DescribeRepositories\",\n      \"ecr:ListImages\",\n      \"ecr:DescribeImages\",\n      \"ecr:BatchGetImage\"\n    ],\n    \"Resource\": \"*\"\n  }]\n}"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_policy.ses_policy": {
                    "type": "aws_iam_policy",
                    "depends_on": [
                        "data.template_file.ses_policy"
                    ],
                    "primary": {
                        "id": "arn:aws:iam::387526361725:policy/ses_policy007eefec754f605efa4dec1d41",
                        "attributes": {
                            "arn": "arn:aws:iam::387526361725:policy/ses_policy007eefec754f605efa4dec1d41",
                            "id": "arn:aws:iam::387526361725:policy/ses_policy007eefec754f605efa4dec1d41",
                            "name": "ses_policy007eefec754f605efa4dec1d41",
                            "name_prefix": "ses_policy",
                            "path": "/",
                            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"Stmt0000000000000\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ses:SendRawEmail\",\n                \"ses:SendEmail\",\n                \"ses:GetSendQuota\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        }\n    ]\n}\n"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_policy_attachment.attach": {
                    "type": "aws_iam_policy_attachment",
                    "depends_on": [
                        "aws_iam_policy.ecr_read_only_policy",
                        "aws_iam_role.app_instance"
                    ],
                    "primary": {
                        "id": "ecr_read_only_policy",
                        "attributes": {
                            "groups.#": "0",
                            "id": "ecr_read_only_policy",
                            "name": "ecr_read_only_policy",
                            "policy_arn": "arn:aws:iam::387526361725:policy/ecr_read_only_policy007eefec754f605efa4dec1d40",
                            "roles.#": "1",
                            "roles.1471803418": "terraform-007eefec754f605efa4dec1d3f",
                            "users.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_policy_attachment.attach_ses": {
                    "type": "aws_iam_policy_attachment",
                    "depends_on": [
                        "aws_iam_policy.ses_policy",
                        "aws_iam_role.app_instance"
                    ],
                    "primary": {
                        "id": "ses_policy",
                        "attributes": {
                            "groups.#": "0",
                            "id": "ses_policy",
                            "name": "ses_policy",
                            "policy_arn": "arn:aws:iam::387526361725:policy/ses_policy007eefec754f605efa4dec1d41",
                            "roles.#": "1",
                            "roles.1471803418": "terraform-007eefec754f605efa4dec1d3f",
                            "users.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role.app_instance": {
                    "type": "aws_iam_role",
                    "depends_on": [
                        "data.template_file.ec2_assume_policy"
                    ],
                    "primary": {
                        "id": "terraform-007eefec754f605efa4dec1d3f",
                        "attributes": {
                            "arn": "arn:aws:iam::387526361725:role/terraform-007eefec754f605efa4dec1d3f",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2017-06-06T14:47:39Z",
                            "id": "terraform-007eefec754f605efa4dec1d3f",
                            "name": "terraform-007eefec754f605efa4dec1d3f",
                            "path": "/",
                            "unique_id": "AROAILHJD2ROMVTW34AMW"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role.ecs_service": {
                    "type": "aws_iam_role",
                    "depends_on": [
                        "data.template_file.ecs_assume_role_policy"
                    ],
                    "primary": {
                        "id": "gather2_prod007eefec754f605efa4dec1d3e",
                        "attributes": {
                            "arn": "arn:aws:iam::387526361725:role/gather2_prod007eefec754f605efa4dec1d3e",
                            "assume_role_policy": "{\"Version\":\"2008-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2017-06-06T14:47:39Z",
                            "id": "gather2_prod007eefec754f605efa4dec1d3e",
                            "name": "gather2_prod007eefec754f605efa4dec1d3e",
                            "name_prefix": "gather2_prod",
                            "path": "/",
                            "unique_id": "AROAIT4CGRYEMATACUWMG"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role_policy.ecs_service": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.ecs_service",
                        "data.template_file.ecs_service"
                    ],
                    "primary": {
                        "id": "gather2_prod007eefec754f605efa4dec1d3e:tf_ecs_policy007eefec754f605efa4dec1d42",
                        "attributes": {
                            "id": "gather2_prod007eefec754f605efa4dec1d3e:tf_ecs_policy007eefec754f605efa4dec1d42",
                            "name": "tf_ecs_policy007eefec754f605efa4dec1d42",
                            "name_prefix": "tf_ecs_policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:Describe*\",\n        \"elasticloadbalancing:DeregisterInstancesFromLoadBalancer\",\n        \"elasticloadbalancing:DeregisterTargets\",\n        \"elasticloadbalancing:Describe*\",\n        \"elasticloadbalancing:RegisterInstancesWithLoadBalancer\",\n        \"elasticloadbalancing:RegisterTargets\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
                            "role": "gather2_prod007eefec754f605efa4dec1d3e"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role_policy.instance": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.app_instance",
                        "data.template_file.instance_profile"
                    ],
                    "primary": {
                        "id": "terraform-007eefec754f605efa4dec1d3f:EcsInstanceRolegather2prod007eefec754f605efa4dec1d43",
                        "attributes": {
                            "id": "terraform-007eefec754f605efa4dec1d3f:EcsInstanceRolegather2prod007eefec754f605efa4dec1d43",
                            "name": "EcsInstanceRolegather2prod007eefec754f605efa4dec1d43",
                            "name_prefix": "EcsInstanceRolegather2prod",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ecsInstanceRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:DeregisterContainerInstance\",\n        \"ecs:DiscoverPollEndpoint\",\n        \"ecs:Poll\",\n        \"ecs:RegisterContainerInstance\",\n        \"ecs:Submit*\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    }\n  ]\n}\n",
                            "role": "terraform-007eefec754f605efa4dec1d3f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_launch_configuration.lc": {
                    "type": "aws_launch_configuration",
                    "depends_on": [
                        "aws_iam_instance_profile.app",
                        "aws_security_group.internal",
                        "data.aws_ami.stable_coreos",
                        "data.template_file.cloud_config"
                    ],
                    "primary": {
                        "id": "gather2-prod-007eefec754f605efa4dec1d48",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "enable_monitoring": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "terraform-007eefec754f605efa4dec1d44",
                            "id": "gather2-prod-007eefec754f605efa4dec1d48",
                            "image_id": "ami-f6a49b90",
                            "instance_type": "t2.medium",
                            "key_name": "ehealth-prod",
                            "name": "gather2-prod-007eefec754f605efa4dec1d48",
                            "name_prefix": "gather2-prod-",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "10",
                            "root_block_device.0.volume_type": "",
                            "security_groups.#": "1",
                            "security_groups.920460491": "sg-74929a0d",
                            "spot_price": "",
                            "user_data": "411dc769fbf5d9b1444e126c8414d5985e26a753",
                            "vpc_classic_link_id": "",
                            "vpc_classic_link_security_groups.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.internal": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-74929a0d",
                        "attributes": {
                            "description": "gather2 internal SG",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-74929a0d",
                            "ingress.#": "3",
                            "ingress.2753886063.cidr_blocks.#": "0",
                            "ingress.2753886063.from_port": "22",
                            "ingress.2753886063.ipv6_cidr_blocks.#": "0",
                            "ingress.2753886063.protocol": "tcp",
                            "ingress.2753886063.security_groups.#": "1",
                            "ingress.2753886063.security_groups.2716371607": "sg-1b0e9762",
                            "ingress.2753886063.self": "false",
                            "ingress.2753886063.to_port": "22",
                            "ingress.3872350635.cidr_blocks.#": "0",
                            "ingress.3872350635.from_port": "5432",
                            "ingress.3872350635.ipv6_cidr_blocks.#": "0",
                            "ingress.3872350635.protocol": "tcp",
                            "ingress.3872350635.security_groups.#": "0",
                            "ingress.3872350635.self": "true",
                            "ingress.3872350635.to_port": "5432",
                            "ingress.569472099.cidr_blocks.#": "0",
                            "ingress.569472099.from_port": "10000",
                            "ingress.569472099.ipv6_cidr_blocks.#": "0",
                            "ingress.569472099.protocol": "tcp",
                            "ingress.569472099.security_groups.#": "1",
                            "ingress.569472099.security_groups.485256607": "sg-ab9f97d2",
                            "ingress.569472099.self": "false",
                            "ingress.569472099.to_port": "50000",
                            "name": "gather2-internal-sg",
                            "owner_id": "387526361725",
                            "tags.%": "0",
                            "vpc_id": "vpc-a10230c5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.allow_all_out_from_ecs": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.internal"
                    ],
                    "primary": {
                        "id": "sgrule-1556906690",
                        "attributes": {
                            "cidr_blocks.#": "1",
                            "cidr_blocks.0": "0.0.0.0/0",
                            "from_port": "0",
                            "id": "sgrule-1556906690",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "-1",
                            "security_group_id": "sg-74929a0d",
                            "self": "false",
                            "to_port": "0",
                            "type": "egress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_ami.stable_coreos": {
                    "type": "aws_ami",
                    "depends_on": [],
                    "primary": {
                        "id": "ami-f6a49b90",
                        "attributes": {
                            "architecture": "x86_64",
                            "block_device_mappings.#": "2",
                            "block_device_mappings.3607311014.device_name": "/dev/xvda",
                            "block_device_mappings.3607311014.ebs.%": "6",
                            "block_device_mappings.3607311014.ebs.delete_on_termination": "true",
                            "block_device_mappings.3607311014.ebs.encrypted": "false",
                            "block_device_mappings.3607311014.ebs.iops": "0",
                            "block_device_mappings.3607311014.ebs.snapshot_id": "snap-0e9657a8a33b503d6",
                            "block_device_mappings.3607311014.ebs.volume_size": "8",
                            "block_device_mappings.3607311014.ebs.volume_type": "standard",
                            "block_device_mappings.3607311014.no_device": "",
                            "block_device_mappings.3607311014.virtual_name": "",
                            "block_device_mappings.3754555969.device_name": "/dev/xvdb",
                            "block_device_mappings.3754555969.ebs.%": "0",
                            "block_device_mappings.3754555969.no_device": "",
                            "block_device_mappings.3754555969.virtual_name": "ephemeral0",
                            "creation_date": "2017-03-31T22:49:01.000Z",
                            "description": "CoreOS stable 1298.7.0 (HVM)",
                            "filter.#": "3",
                            "filter.2264250859.name": "description",
                            "filter.2264250859.values.#": "1",
                            "filter.2264250859.values.0": "CoreOS stable *",
                            "filter.3386043752.name": "architecture",
                            "filter.3386043752.values.#": "1",
                            "filter.3386043752.values.0": "x86_64",
                            "filter.490168357.name": "virtualization-type",
                            "filter.490168357.values.#": "1",
                            "filter.490168357.values.0": "hvm",
                            "hypervisor": "xen",
                            "id": "ami-f6a49b90",
                            "image_id": "ami-f6a49b90",
                            "image_location": "595879546273/CoreOS-stable-1298.7.0-hvm",
                            "image_type": "machine",
                            "most_recent": "true",
                            "name": "CoreOS-stable-1298.7.0-hvm",
                            "owner_id": "595879546273",
                            "owners.#": "1",
                            "owners.0": "595879546273",
                            "product_codes.#": "0",
                            "public": "true",
                            "root_device_name": "/dev/xvda",
                            "root_device_type": "ebs",
                            "sriov_net_support": "simple",
                            "state": "available",
                            "state_reason.%": "2",
                            "state_reason.code": "UNSET",
                            "state_reason.message": "UNSET",
                            "tags.#": "0",
                            "virtualization_type": "hvm"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.cloud_config": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "7fc5cf14f1e7c5fe743c034880d95cd95ced7a097d991e155b78551ab4b5999d",
                        "attributes": {
                            "id": "7fc5cf14f1e7c5fe743c034880d95cd95ced7a097d991e155b78551ab4b5999d",
                            "rendered": "#cloud-config\ncoreos:\n  units:\n   - name: amazon-ecs-agent.service\n     command: start\n     runtime: true\n     content: |\n       [Unit]\n       Description=AWS ECS Agent\n       Documentation=https://docs.aws.amazon.com/AmazonECS/latest/developerguide/\n       Requires=docker.socket\n       After=docker.socket\n\n       [Service]\n       Environment=ECS_CLUSTER=gather2-prod\n       Environment=ECS_LOGLEVEL=info\n       Environment=ECS_VERSION=latest\n       Environment=ECS_ENABLE_TASK_IAM_ROLE=true\n       Restart=on-failure\n       RestartSec=30\n       RestartPreventExitStatus=5\n       SyslogIdentifier=ecs-agent\n       ExecStartPre=-/bin/mkdir -p /var/log/ecs /var/ecs-data /etc/ecs\n       ExecStartPre=-/usr/bin/docker kill ecs-agent\n       ExecStartPre=-/usr/bin/docker rm ecs-agent\n       ExecStartPre=/usr/bin/docker pull amazon/amazon-ecs-agent:${ECS_VERSION}\n       ExecStart=/usr/bin/docker run --name ecs-agent \\\n                                     --volume=/var/run/docker.sock:/var/run/docker.sock \\\n                                     --volume=/var/log/ecs:/log \\\n                                     --volume=/var/ecs-data:/data \\\n                                     --volume=/sys/fs/cgroup:/sys/fs/cgroup:ro \\\n                                     --volume=/run/docker/execdriver/native:/var/lib/docker/execdriver/native:ro \\\n                                     --publish=127.0.0.1:51678:51678 \\\n                                     --env=ECS_LOGFILE=/log/ecs-agent.log \\\n                                     --env=ECS_LOGLEVEL=${ECS_LOGLEVEL} \\\n                                     --env=ECS_DATADIR=/data \\\n                                     --env=ECS_CLUSTER=${ECS_CLUSTER} \\\n                                     --env=ECS_AVAILABLE_LOGGING_DRIVERS='[\"awslogs\"]' \\\n                                     amazon/amazon-ecs-agent:${ECS_VERSION}\n",
                            "template": "#cloud-config\ncoreos:\n  units:\n   - name: amazon-ecs-agent.service\n     command: start\n     runtime: true\n     content: |\n       [Unit]\n       Description=AWS ECS Agent\n       Documentation=https://docs.aws.amazon.com/AmazonECS/latest/developerguide/\n       Requires=docker.socket\n       After=docker.socket\n\n       [Service]\n       Environment=ECS_CLUSTER=${ecs_cluster_name}\n       Environment=ECS_LOGLEVEL=${ecs_log_level}\n       Environment=ECS_VERSION=${ecs_agent_version}\n       Environment=ECS_ENABLE_TASK_IAM_ROLE=true\n       Restart=on-failure\n       RestartSec=30\n       RestartPreventExitStatus=5\n       SyslogIdentifier=ecs-agent\n       ExecStartPre=-/bin/mkdir -p /var/log/ecs /var/ecs-data /etc/ecs\n       ExecStartPre=-/usr/bin/docker kill ecs-agent\n       ExecStartPre=-/usr/bin/docker rm ecs-agent\n       ExecStartPre=/usr/bin/docker pull amazon/amazon-ecs-agent:$${ECS_VERSION}\n       ExecStart=/usr/bin/docker run --name ecs-agent \\\n                                     --volume=/var/run/docker.sock:/var/run/docker.sock \\\n                                     --volume=/var/log/ecs:/log \\\n                                     --volume=/var/ecs-data:/data \\\n                                     --volume=/sys/fs/cgroup:/sys/fs/cgroup:ro \\\n                                     --volume=/run/docker/execdriver/native:/var/lib/docker/execdriver/native:ro \\\n                                     --publish=127.0.0.1:51678:51678 \\\n                                     --env=ECS_LOGFILE=/log/ecs-agent.log \\\n                                     --env=ECS_LOGLEVEL=$${ECS_LOGLEVEL} \\\n                                     --env=ECS_DATADIR=/data \\\n                                     --env=ECS_CLUSTER=$${ECS_CLUSTER} \\\n                                     --env=ECS_AVAILABLE_LOGGING_DRIVERS='[\"awslogs\"]' \\\n                                     amazon/amazon-ecs-agent:$${ECS_VERSION}\n",
                            "vars.%": "5",
                            "vars.aws_region": "eu-west-1",
                            "vars.ecs_agent_version": "latest",
                            "vars.ecs_cluster_name": "gather2-prod",
                            "vars.ecs_log_group_name": "gather2-prod",
                            "vars.ecs_log_level": "info"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.ec2_assume_policy": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "25be42115e11796b9a6b4a4fe980fabcdab4361abc211c12ee9bf453e566da4c",
                        "attributes": {
                            "id": "25be42115e11796b9a6b4a4fe980fabcdab4361abc211c12ee9bf453e566da4c",
                            "rendered": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}",
                            "template": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.ecr_read_only_policy": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "ab93815ceac6bc780a0d411480c47f0a22f4de82fcf03a012692974137cd327e",
                        "attributes": {
                            "id": "ab93815ceac6bc780a0d411480c47f0a22f4de82fcf03a012692974137cd327e",
                            "rendered": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [{\n    \"Effect\": \"Allow\",\n    \"Action\": [\n      \"ecr:GetAuthorizationToken\",\n      \"ecr:BatchCheckLayerAvailability\",\n      \"ecr:GetDownloadUrlForLayer\",\n      \"ecr:GetRepositoryPolicy\",\n      \"ecr:DescribeRepositories\",\n      \"ecr:ListImages\",\n      \"ecr:DescribeImages\",\n      \"ecr:BatchGetImage\"\n    ],\n    \"Resource\": \"*\"\n  }]\n}",
                            "template": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [{\n    \"Effect\": \"Allow\",\n    \"Action\": [\n      \"ecr:GetAuthorizationToken\",\n      \"ecr:BatchCheckLayerAvailability\",\n      \"ecr:GetDownloadUrlForLayer\",\n      \"ecr:GetRepositoryPolicy\",\n      \"ecr:DescribeRepositories\",\n      \"ecr:ListImages\",\n      \"ecr:DescribeImages\",\n      \"ecr:BatchGetImage\"\n    ],\n    \"Resource\": \"*\"\n  }]\n}"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.ecs_assume_role_policy": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "29189133ed89ab1abcf32d21c15563d40238dd7ba46083c85932812c76427f6b",
                        "attributes": {
                            "id": "29189133ed89ab1abcf32d21c15563d40238dd7ba46083c85932812c76427f6b",
                            "rendered": "{\n  \"Version\": \"2008-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"ecs.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}",
                            "template": "{\n  \"Version\": \"2008-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"ecs.amazonaws.com\"\n      },\n      \"Action\": \"sts:AssumeRole\"\n    }\n  ]\n}"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.ecs_service": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "8a7eefed1c493aee8f3d716ae11f78a11204f0f573aff0f03ac69b24f9037db4",
                        "attributes": {
                            "id": "8a7eefed1c493aee8f3d716ae11f78a11204f0f573aff0f03ac69b24f9037db4",
                            "rendered": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:Describe*\",\n        \"elasticloadbalancing:DeregisterInstancesFromLoadBalancer\",\n        \"elasticloadbalancing:DeregisterTargets\",\n        \"elasticloadbalancing:Describe*\",\n        \"elasticloadbalancing:RegisterInstancesWithLoadBalancer\",\n        \"elasticloadbalancing:RegisterTargets\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
                            "template": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:Describe*\",\n        \"elasticloadbalancing:DeregisterInstancesFromLoadBalancer\",\n        \"elasticloadbalancing:DeregisterTargets\",\n        \"elasticloadbalancing:Describe*\",\n        \"elasticloadbalancing:RegisterInstancesWithLoadBalancer\",\n        \"elasticloadbalancing:RegisterTargets\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.instance_profile": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "b091ee2b5a5edde2e1e34667577637be4f800b98cc96091fc23519d6aec84c63",
                        "attributes": {
                            "id": "b091ee2b5a5edde2e1e34667577637be4f800b98cc96091fc23519d6aec84c63",
                            "rendered": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ecsInstanceRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:DeregisterContainerInstance\",\n        \"ecs:DiscoverPollEndpoint\",\n        \"ecs:Poll\",\n        \"ecs:RegisterContainerInstance\",\n        \"ecs:Submit*\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    }\n  ]\n}\n",
                            "template": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ecsInstanceRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:DeregisterContainerInstance\",\n        \"ecs:DiscoverPollEndpoint\",\n        \"ecs:Poll\",\n        \"ecs:RegisterContainerInstance\",\n        \"ecs:Submit*\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    }\n  ]\n}\n",
                            "vars.%": "3",
                            "vars.aws_region": "eu-west-1",
                            "vars.environment": "prod",
                            "vars.project": "gather2"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.ses_policy": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "0b01c4b2d44cb4a32b0aa9b3ccef573d3a195a959b5d5ac0975b5f8a3dd653cf",
                        "attributes": {
                            "id": "0b01c4b2d44cb4a32b0aa9b3ccef573d3a195a959b5d5ac0975b5f8a3dd653cf",
                            "rendered": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"Stmt0000000000000\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ses:SendRawEmail\",\n                \"ses:SendEmail\",\n                \"ses:GetSendQuota\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        }\n    ]\n}\n",
                            "template": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Sid\": \"Stmt0000000000000\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ses:SendRawEmail\",\n                \"ses:SendEmail\",\n                \"ses:GetSendQuota\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        }\n    ]\n}\n"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "deployment_config"
            ],
            "outputs": {
                "version": {
                    "sensitive": false,
                    "type": "map",
                    "value": {
                        "version": "eaf7358f6b61"
                    }
                }
            },
            "resources": {},
            "depends_on": []
        },
        {
            "path": [
                "root",
                "ecs"
            ],
            "outputs": {
                "core_target_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-core-prod/5896b0c6ad9180de"
                },
                "couchdb_sync_target_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-couchdb-sync-prod/8896da1f00618a19"
                },
                "odk_importer_target_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-odk-prod/a6a7f20c6f509709"
                }
            },
            "resources": {
                "aws_alb.gather2_core": {
                    "type": "aws_alb",
                    "depends_on": [
                        "aws_security_group.lb_sg"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c",
                        "attributes": {
                            "access_logs.#": "0",
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c",
                            "arn_suffix": "app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c",
                            "dns_name": "tf-lb-007eefec754f605efa4dec1d45-280470871.eu-west-1.elb.amazonaws.com",
                            "enable_deletion_protection": "false",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c",
                            "idle_timeout": "60",
                            "internal": "false",
                            "ip_address_type": "ipv4",
                            "name": "tf-lb-007eefec754f605efa4dec1d45",
                            "security_groups.#": "1",
                            "security_groups.485256607": "sg-ab9f97d2",
                            "subnets.#": "3",
                            "subnets.1476721113": "subnet-19d49641",
                            "subnets.1571605218": "subnet-7aaeaa0c",
                            "subnets.2820519839": "subnet-22161746",
                            "tags.%": "2",
                            "tags.key": "stack",
                            "tags.name": "gather2-prod",
                            "vpc_id": "vpc-a10230c5",
                            "zone_id": "Z32O12XQLNTSW2"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb.gather2_couchdb_sync": {
                    "type": "aws_alb",
                    "depends_on": [
                        "aws_security_group.lb_sg"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62",
                        "attributes": {
                            "access_logs.#": "0",
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62",
                            "arn_suffix": "app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62",
                            "dns_name": "tf-lb-007eefec754f605efa4dec1d47-474697304.eu-west-1.elb.amazonaws.com",
                            "enable_deletion_protection": "false",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62",
                            "idle_timeout": "60",
                            "internal": "false",
                            "ip_address_type": "ipv4",
                            "name": "tf-lb-007eefec754f605efa4dec1d47",
                            "security_groups.#": "1",
                            "security_groups.485256607": "sg-ab9f97d2",
                            "subnets.#": "3",
                            "subnets.1476721113": "subnet-19d49641",
                            "subnets.1571605218": "subnet-7aaeaa0c",
                            "subnets.2820519839": "subnet-22161746",
                            "tags.%": "2",
                            "tags.key": "stack",
                            "tags.name": "gather2-couchdb-sync-prod",
                            "vpc_id": "vpc-a10230c5",
                            "zone_id": "Z32O12XQLNTSW2"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb.gather2_odk_importer": {
                    "type": "aws_alb",
                    "depends_on": [
                        "aws_security_group.lb_sg"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66",
                        "attributes": {
                            "access_logs.#": "0",
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66",
                            "arn_suffix": "app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66",
                            "dns_name": "tf-lb-007eefec754f605efa4dec1d46-823212137.eu-west-1.elb.amazonaws.com",
                            "enable_deletion_protection": "false",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66",
                            "idle_timeout": "60",
                            "internal": "false",
                            "ip_address_type": "ipv4",
                            "name": "tf-lb-007eefec754f605efa4dec1d46",
                            "security_groups.#": "1",
                            "security_groups.485256607": "sg-ab9f97d2",
                            "subnets.#": "3",
                            "subnets.1476721113": "subnet-19d49641",
                            "subnets.1571605218": "subnet-7aaeaa0c",
                            "subnets.2820519839": "subnet-22161746",
                            "tags.%": "2",
                            "tags.key": "stack",
                            "tags.name": "gather2-prod",
                            "vpc_id": "vpc-a10230c5",
                            "zone_id": "Z32O12XQLNTSW2"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_listener.gather2_core_http": {
                    "type": "aws_alb_listener",
                    "depends_on": [
                        "aws_alb.gather2_core",
                        "aws_alb_target_group.gather2_core"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c/afd5f6bae48640dd",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c/afd5f6bae48640dd",
                            "default_action.#": "1",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-core-prod/5896b0c6ad9180de",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c/afd5f6bae48640dd",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c",
                            "port": "80",
                            "protocol": "HTTP",
                            "ssl_policy": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_listener.gather2_core_https": {
                    "type": "aws_alb_listener",
                    "depends_on": [
                        "aws_alb.gather2_core",
                        "aws_alb_target_group.gather2_core"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c/6681e0f8020769f0",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c/6681e0f8020769f0",
                            "certificate_arn": "arn:aws:acm:eu-west-1:387526361725:certificate/b093a099-e453-4290-90b4-8a97f43174ec",
                            "default_action.#": "1",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-core-prod/5896b0c6ad9180de",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c/6681e0f8020769f0",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d45/90502866d057019c",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2015-05"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_listener.gather2_couchdb_sync_http": {
                    "type": "aws_alb_listener",
                    "depends_on": [
                        "aws_alb.gather2_couchdb_sync",
                        "aws_alb_target_group.gather2_couchdb_sync"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62/d2d054d7fc41df57",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62/d2d054d7fc41df57",
                            "default_action.#": "1",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-couchdb-sync-prod/8896da1f00618a19",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62/d2d054d7fc41df57",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62",
                            "port": "80",
                            "protocol": "HTTP",
                            "ssl_policy": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_listener.gather2_couchdb_sync_https": {
                    "type": "aws_alb_listener",
                    "depends_on": [
                        "aws_alb.gather2_couchdb_sync",
                        "aws_alb_target_group.gather2_couchdb_sync"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62/60f13a3bdd2b77ea",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62/60f13a3bdd2b77ea",
                            "certificate_arn": "arn:aws:acm:eu-west-1:387526361725:certificate/b093a099-e453-4290-90b4-8a97f43174ec",
                            "default_action.#": "1",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-couchdb-sync-prod/8896da1f00618a19",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62/60f13a3bdd2b77ea",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d47/df8ed933fc63cc62",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2015-05"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_listener.gather2_odk_importer_http": {
                    "type": "aws_alb_listener",
                    "depends_on": [
                        "aws_alb.gather2_odk_importer",
                        "aws_alb_target_group.gather2_odk_importer"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66/ee79de7fc148496a",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66/ee79de7fc148496a",
                            "default_action.#": "1",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-odk-prod/a6a7f20c6f509709",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66/ee79de7fc148496a",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66",
                            "port": "80",
                            "protocol": "HTTP",
                            "ssl_policy": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_listener.gather2_odk_importer_https": {
                    "type": "aws_alb_listener",
                    "depends_on": [
                        "aws_alb.gather2_odk_importer",
                        "aws_alb_target_group.gather2_odk_importer"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66/2d93c03feadcce35",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66/2d93c03feadcce35",
                            "certificate_arn": "arn:aws:acm:eu-west-1:387526361725:certificate/b093a099-e453-4290-90b4-8a97f43174ec",
                            "default_action.#": "1",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-odk-prod/a6a7f20c6f509709",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:listener/app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66/2d93c03feadcce35",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:loadbalancer/app/tf-lb-007eefec754f605efa4dec1d46/2b9dae1d179c9a66",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2015-05"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_target_group.gather2_core": {
                    "type": "aws_alb_target_group",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-core-prod/5896b0c6ad9180de",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-core-prod/5896b0c6ad9180de",
                            "arn_suffix": "targetgroup/gather2-core-prod/5896b0c6ad9180de",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "5",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/health",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-core-prod/5896b0c6ad9180de",
                            "name": "gather2-core-prod",
                            "port": "80",
                            "protocol": "HTTP",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "vpc_id": "vpc-a10230c5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_target_group.gather2_couchdb_sync": {
                    "type": "aws_alb_target_group",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-couchdb-sync-prod/8896da1f00618a19",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-couchdb-sync-prod/8896da1f00618a19",
                            "arn_suffix": "targetgroup/gather2-couchdb-sync-prod/8896da1f00618a19",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "5",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/health",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-couchdb-sync-prod/8896da1f00618a19",
                            "name": "gather2-couchdb-sync-prod",
                            "port": "80",
                            "protocol": "HTTP",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "vpc_id": "vpc-a10230c5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_target_group.gather2_odk_importer": {
                    "type": "aws_alb_target_group",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-odk-prod/a6a7f20c6f509709",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-odk-prod/a6a7f20c6f509709",
                            "arn_suffix": "targetgroup/gather2-odk-prod/a6a7f20c6f509709",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "5",
                            "health_check.0.interval": "30",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/health",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-odk-prod/a6a7f20c6f509709",
                            "name": "gather2-odk-prod",
                            "port": "80",
                            "protocol": "HTTP",
                            "stickiness.#": "1",
                            "stickiness.0.cookie_duration": "86400",
                            "stickiness.0.enabled": "false",
                            "stickiness.0.type": "lb_cookie",
                            "tags.%": "0",
                            "vpc_id": "vpc-a10230c5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecr_repository.gather2_core": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "gather2-core-prod",
                        "attributes": {
                            "arn": "arn:aws:ecr:eu-west-1:387526361725:repository/gather2-core-prod",
                            "id": "gather2-core-prod",
                            "name": "gather2-core-prod",
                            "registry_id": "387526361725",
                            "repository_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-core-prod"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecr_repository.gather2_core_nginx": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "gather2-core-nginx-prod",
                        "attributes": {
                            "arn": "arn:aws:ecr:eu-west-1:387526361725:repository/gather2-core-nginx-prod",
                            "id": "gather2-core-nginx-prod",
                            "name": "gather2-core-nginx-prod",
                            "registry_id": "387526361725",
                            "repository_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-core-nginx-prod"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecr_repository.gather2_couchdb": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "gather2-couchdb-prod",
                        "attributes": {
                            "arn": "arn:aws:ecr:eu-west-1:387526361725:repository/gather2-couchdb-prod",
                            "id": "gather2-couchdb-prod",
                            "name": "gather2-couchdb-prod",
                            "registry_id": "387526361725",
                            "repository_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-couchdb-prod"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecr_repository.gather2_couchdb_sync": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "gather2-couchdb-sync-prod",
                        "attributes": {
                            "arn": "arn:aws:ecr:eu-west-1:387526361725:repository/gather2-couchdb-sync-prod",
                            "id": "gather2-couchdb-sync-prod",
                            "name": "gather2-couchdb-sync-prod",
                            "registry_id": "387526361725",
                            "repository_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-couchdb-sync-prod"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecr_repository.gather2_couchdb_sync_nginx": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "gather2-couchdb-sync-nginx-prod",
                        "attributes": {
                            "arn": "arn:aws:ecr:eu-west-1:387526361725:repository/gather2-couchdb-sync-nginx-prod",
                            "id": "gather2-couchdb-sync-nginx-prod",
                            "name": "gather2-couchdb-sync-nginx-prod",
                            "registry_id": "387526361725",
                            "repository_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-couchdb-sync-nginx-prod"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecr_repository.gather2_odk_importer": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "gather2-odk-importer-prod",
                        "attributes": {
                            "arn": "arn:aws:ecr:eu-west-1:387526361725:repository/gather2-odk-importer-prod",
                            "id": "gather2-odk-importer-prod",
                            "name": "gather2-odk-importer-prod",
                            "registry_id": "387526361725",
                            "repository_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-odk-importer-prod"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecr_repository.gather2_odk_importer_nginx": {
                    "type": "aws_ecr_repository",
                    "depends_on": [],
                    "primary": {
                        "id": "gather2-odk-importer-nginx-prod",
                        "attributes": {
                            "arn": "arn:aws:ecr:eu-west-1:387526361725:repository/gather2-odk-importer-nginx-prod",
                            "id": "gather2-odk-importer-nginx-prod",
                            "name": "gather2-odk-importer-nginx-prod",
                            "registry_id": "387526361725",
                            "repository_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-odk-importer-nginx-prod"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_cluster.cluster": {
                    "type": "aws_ecs_cluster",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:ecs:eu-west-1:387526361725:cluster/gather2-prod",
                        "attributes": {
                            "id": "arn:aws:ecs:eu-west-1:387526361725:cluster/gather2-prod",
                            "name": "gather2-prod"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_service.gather2_core": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_alb_listener.gather2_core_http",
                        "aws_alb_target_group.gather2_core",
                        "aws_ecs_cluster.cluster",
                        "aws_ecs_task_definition.gather2_core",
                        "data.aws_ecs_task_definition.gather2_core"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:eu-west-1:387526361725:service/gather2-core",
                        "attributes": {
                            "cluster": "arn:aws:ecs:eu-west-1:387526361725:cluster/gather2-prod",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "iam_role": "gather2_prod007eefec754f605efa4dec1d3e",
                            "id": "arn:aws:ecs:eu-west-1:387526361725:service/gather2-core",
                            "load_balancer.#": "1",
                            "load_balancer.2297054056.container_name": "core-nginx",
                            "load_balancer.2297054056.container_port": "80",
                            "load_balancer.2297054056.elb_name": "",
                            "load_balancer.2297054056.target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-core-prod/5896b0c6ad9180de",
                            "name": "gather2-core",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "gather2-core-prod:3"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_service.gather2_couchdb_sync": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_alb_listener.gather2_couchdb_sync_http",
                        "aws_alb_target_group.gather2_couchdb_sync",
                        "aws_ecs_cluster.cluster",
                        "aws_ecs_task_definition.gather2_couchdb_sync",
                        "data.aws_ecs_task_definition.gather2_couchdb_sync"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:eu-west-1:387526361725:service/gather2-couchdb-sync",
                        "attributes": {
                            "cluster": "arn:aws:ecs:eu-west-1:387526361725:cluster/gather2-prod",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "iam_role": "gather2_prod007eefec754f605efa4dec1d3e",
                            "id": "arn:aws:ecs:eu-west-1:387526361725:service/gather2-couchdb-sync",
                            "load_balancer.#": "1",
                            "load_balancer.711975567.container_name": "couchdb-sync-nginx",
                            "load_balancer.711975567.container_port": "80",
                            "load_balancer.711975567.elb_name": "",
                            "load_balancer.711975567.target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-couchdb-sync-prod/8896da1f00618a19",
                            "name": "gather2-couchdb-sync",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "gather2-couchdb-sync-prod:5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_service.gather2_odk_importer": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_alb_listener.gather2_odk_importer_http",
                        "aws_alb_target_group.gather2_odk_importer",
                        "aws_ecs_cluster.cluster",
                        "aws_ecs_task_definition.gather2_odk_importer",
                        "data.aws_ecs_task_definition.gather2_odk_importer"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:eu-west-1:387526361725:service/gather2-odk-importer",
                        "attributes": {
                            "cluster": "arn:aws:ecs:eu-west-1:387526361725:cluster/gather2-prod",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "iam_role": "gather2_prod007eefec754f605efa4dec1d3e",
                            "id": "arn:aws:ecs:eu-west-1:387526361725:service/gather2-odk-importer",
                            "load_balancer.#": "1",
                            "load_balancer.2829496667.container_name": "odk-importer-nginx",
                            "load_balancer.2829496667.container_port": "80",
                            "load_balancer.2829496667.elb_name": "",
                            "load_balancer.2829496667.target_group_arn": "arn:aws:elasticloadbalancing:eu-west-1:387526361725:targetgroup/gather2-odk-prod/a6a7f20c6f509709",
                            "name": "gather2-odk-importer",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "gather2-odk-importer-prod:3"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_task_definition.gather2_core": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "aws_ecs_task_definition.gather2_core"
                    ],
                    "primary": {
                        "id": "gather2-core-prod",
                        "attributes": {
                            "arn": "arn:aws:ecs:eu-west-1:387526361725:task-definition/gather2-core-prod:3",
                            "container_definitions": "dae250752e35736cb56e64e468e2799b0a82e4a8",
                            "family": "gather2-core-prod",
                            "id": "gather2-core-prod",
                            "network_mode": "",
                            "placement_constraints.#": "0",
                            "revision": "3",
                            "task_role_arn": "",
                            "volume.#": "1",
                            "volume.1055765132.host_path": "",
                            "volume.1055765132.name": "static-core"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_task_definition.gather2_couchdb_sync": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.template_file.gather2_couchdb_sync"
                    ],
                    "primary": {
                        "id": "gather2-couchdb-sync-prod",
                        "attributes": {
                            "arn": "arn:aws:ecs:eu-west-1:387526361725:task-definition/gather2-couchdb-sync-prod:5",
                            "container_definitions": "bd1aa632840ad603d8c045455770011345fb3f11",
                            "family": "gather2-couchdb-sync-prod",
                            "id": "gather2-couchdb-sync-prod",
                            "network_mode": "",
                            "placement_constraints.#": "0",
                            "revision": "5",
                            "task_role_arn": "",
                            "volume.#": "3",
                            "volume.1163244578.host_path": "",
                            "volume.1163244578.name": "static-couchdb-sync",
                            "volume.2110403266.host_path": "",
                            "volume.2110403266.name": "couchdb-data",
                            "volume.3386129747.host_path": "",
                            "volume.3386129747.name": "redis-data"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_task_definition.gather2_odk_importer": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "aws_ecs_task_definition.gather2_odk_importer"
                    ],
                    "primary": {
                        "id": "gather2-odk-importer-prod",
                        "attributes": {
                            "arn": "arn:aws:ecs:eu-west-1:387526361725:task-definition/gather2-odk-importer-prod:3",
                            "container_definitions": "99d05027b088c69b58a29591839ae5095639bfc9",
                            "family": "gather2-odk-importer-prod",
                            "id": "gather2-odk-importer-prod",
                            "network_mode": "",
                            "placement_constraints.#": "0",
                            "revision": "3",
                            "task_role_arn": "",
                            "volume.#": "1",
                            "volume.3191619734.host_path": "",
                            "volume.3191619734.name": "static-odk-importer"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_record.gather2_core": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_alb.gather2_core"
                    ],
                    "primary": {
                        "id": "Z1B5Q25BUE3TXB_core-gather_A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.122244312.evaluate_target_health": "true",
                            "alias.122244312.name": "tf-lb-007eefec754f605efa4dec1d45-280470871.eu-west-1.elb.amazonaws.com",
                            "alias.122244312.zone_id": "Z32O12XQLNTSW2",
                            "fqdn": "core-gather.ehealthafrica.org",
                            "health_check_id": "",
                            "id": "Z1B5Q25BUE3TXB_core-gather_A",
                            "name": "core-gather",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "Z1B5Q25BUE3TXB"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_record.gather2_couchdb_sync": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_alb.gather2_couchdb_sync"
                    ],
                    "primary": {
                        "id": "Z1B5Q25BUE3TXB_couchdb-sync-gather_A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.2604275327.evaluate_target_health": "true",
                            "alias.2604275327.name": "tf-lb-007eefec754f605efa4dec1d47-474697304.eu-west-1.elb.amazonaws.com",
                            "alias.2604275327.zone_id": "Z32O12XQLNTSW2",
                            "fqdn": "couchdb-sync-gather.ehealthafrica.org",
                            "health_check_id": "",
                            "id": "Z1B5Q25BUE3TXB_couchdb-sync-gather_A",
                            "name": "couchdb-sync-gather",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "Z1B5Q25BUE3TXB"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_record.gather2_odk_importer": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_alb.gather2_odk_importer"
                    ],
                    "primary": {
                        "id": "Z1B5Q25BUE3TXB_odk-importer-gather_A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.1789134399.evaluate_target_health": "true",
                            "alias.1789134399.name": "tf-lb-007eefec754f605efa4dec1d46-823212137.eu-west-1.elb.amazonaws.com",
                            "alias.1789134399.zone_id": "Z32O12XQLNTSW2",
                            "fqdn": "odk-importer-gather.ehealthafrica.org",
                            "health_check_id": "",
                            "id": "Z1B5Q25BUE3TXB_odk-importer-gather_A",
                            "name": "odk-importer-gather",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "Z1B5Q25BUE3TXB"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_zone.internal": {
                    "type": "aws_route53_zone",
                    "depends_on": [],
                    "primary": {
                        "id": "Z21M56ZBYQYTQQ",
                        "attributes": {
                            "comment": "Managed by Terraform",
                            "force_destroy": "false",
                            "id": "Z21M56ZBYQYTQQ",
                            "name": "gather2.prod",
                            "name_servers.#": "4",
                            "name_servers.0": "ns-0.awsdns-00.com.",
                            "name_servers.1": "ns-1024.awsdns-00.org.",
                            "name_servers.2": "ns-1536.awsdns-00.co.uk.",
                            "name_servers.3": "ns-512.awsdns-00.net.",
                            "tags.%": "1",
                            "tags.Environment": "prod",
                            "vpc_id": "vpc-a10230c5",
                            "vpc_region": "eu-west-1",
                            "zone_id": "Z21M56ZBYQYTQQ"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.lb_sg": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-ab9f97d2",
                        "attributes": {
                            "description": "controls access to the application ALB",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-ab9f97d2",
                            "ingress.#": "2",
                            "ingress.2214680975.cidr_blocks.#": "1",
                            "ingress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2214680975.from_port": "80",
                            "ingress.2214680975.ipv6_cidr_blocks.#": "0",
                            "ingress.2214680975.protocol": "tcp",
                            "ingress.2214680975.security_groups.#": "0",
                            "ingress.2214680975.self": "false",
                            "ingress.2214680975.to_port": "80",
                            "ingress.2617001939.cidr_blocks.#": "1",
                            "ingress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2617001939.from_port": "443",
                            "ingress.2617001939.ipv6_cidr_blocks.#": "0",
                            "ingress.2617001939.protocol": "tcp",
                            "ingress.2617001939.security_groups.#": "0",
                            "ingress.2617001939.self": "false",
                            "ingress.2617001939.to_port": "443",
                            "name": "gather2-prod_alb",
                            "owner_id": "387526361725",
                            "tags.%": "1",
                            "tags.Name": "gather2-prod",
                            "vpc_id": "vpc-a10230c5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.bastion": {
                    "type": "aws_security_group_rule",
                    "depends_on": [],
                    "primary": {
                        "id": "sgrule-1060802713",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "22",
                            "id": "sgrule-1060802713",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "tcp",
                            "security_group_id": "sg-74929a0d",
                            "self": "false",
                            "source_security_group_id": "sg-1b0e9762",
                            "to_port": "22",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.gather2": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.lb_sg"
                    ],
                    "primary": {
                        "id": "sgrule-3897830026",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "10000",
                            "id": "sgrule-3897830026",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "tcp",
                            "security_group_id": "sg-74929a0d",
                            "self": "false",
                            "source_security_group_id": "sg-ab9f97d2",
                            "to_port": "50000",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.rds": {
                    "type": "aws_security_group_rule",
                    "depends_on": [],
                    "primary": {
                        "id": "sgrule-853508099",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "5432",
                            "id": "sgrule-853508099",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "tcp",
                            "security_group_id": "sg-74929a0d",
                            "self": "false",
                            "source_security_group_id": "sg-74929a0d",
                            "to_port": "5432",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_ecs_task_definition.gather2_core": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "aws_ecs_task_definition.gather2_core"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:eu-west-1:387526361725:task-definition/gather2-core-prod:3",
                        "attributes": {
                            "family": "gather2-core-prod",
                            "id": "arn:aws:ecs:eu-west-1:387526361725:task-definition/gather2-core-prod:3",
                            "network_mode": "",
                            "revision": "3",
                            "status": "ACTIVE",
                            "task_definition": "gather2-core-prod",
                            "task_role_arn": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_ecs_task_definition.gather2_couchdb_sync": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "aws_ecs_task_definition.gather2_couchdb_sync"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:eu-west-1:387526361725:task-definition/gather2-couchdb-sync-prod:4",
                        "attributes": {
                            "family": "gather2-couchdb-sync-prod",
                            "id": "arn:aws:ecs:eu-west-1:387526361725:task-definition/gather2-couchdb-sync-prod:4",
                            "network_mode": "",
                            "revision": "4",
                            "status": "ACTIVE",
                            "task_definition": "gather2-couchdb-sync-prod",
                            "task_role_arn": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_ecs_task_definition.gather2_odk_importer": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "aws_ecs_task_definition.gather2_odk_importer"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:eu-west-1:387526361725:task-definition/gather2-odk-importer-prod:3",
                        "attributes": {
                            "family": "gather2-odk-importer-prod",
                            "id": "arn:aws:ecs:eu-west-1:387526361725:task-definition/gather2-odk-importer-prod:3",
                            "network_mode": "",
                            "revision": "3",
                            "status": "ACTIVE",
                            "task_definition": "gather2-odk-importer-prod",
                            "task_role_arn": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.credstash_secret.couchdb_password": {
                    "type": "credstash_secret",
                    "depends_on": [],
                    "primary": {
                        "id": "3218b1b3fc4f629bcee6ab8eeaf21753d6e0c99539ff69b9a53788829a6691b0",
                        "attributes": {
                            "id": "3218b1b3fc4f629bcee6ab8eeaf21753d6e0c99539ff69b9a53788829a6691b0",
                            "name": "gather2-prod-couchdb-password",
                            "value": "ohcaepo1Joex8wu"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.credstash_secret.database_password": {
                    "type": "credstash_secret",
                    "depends_on": [],
                    "primary": {
                        "id": "1102406b830f7f7f363928723b17e363853d8409d20cd4851c8db213ce03a0d9",
                        "attributes": {
                            "id": "1102406b830f7f7f363928723b17e363853d8409d20cd4851c8db213ce03a0d9",
                            "name": "gather2-prod-database-password",
                            "value": "nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.credstash_secret.gather2_core": {
                    "type": "credstash_secret",
                    "depends_on": [],
                    "primary": {
                        "id": "1102406b830f7f7f363928723b17e363853d8409d20cd4851c8db213ce03a0d9",
                        "attributes": {
                            "id": "1102406b830f7f7f363928723b17e363853d8409d20cd4851c8db213ce03a0d9",
                            "name": "gather2-prod-database-password",
                            "value": "nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.credstash_secret.gather2_odk_importer": {
                    "type": "credstash_secret",
                    "depends_on": [],
                    "primary": {
                        "id": "1102406b830f7f7f363928723b17e363853d8409d20cd4851c8db213ce03a0d9",
                        "attributes": {
                            "id": "1102406b830f7f7f363928723b17e363853d8409d20cd4851c8db213ce03a0d9",
                            "name": "gather2-prod-database-password",
                            "value": "nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.credstash_secret.gather2_token": {
                    "type": "credstash_secret",
                    "depends_on": [],
                    "primary": {
                        "id": "f14b3aa13fdb3139be430dfdff7f28d081192264b78580f8c602df06ec040b77",
                        "attributes": {
                            "id": "f14b3aa13fdb3139be430dfdff7f28d081192264b78580f8c602df06ec040b77",
                            "name": "gather2-prod-token",
                            "value": "oongie5ogaihei2aebaD"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.credstash_secret.google_client_id": {
                    "type": "credstash_secret",
                    "depends_on": [],
                    "primary": {
                        "id": "378c8b8d5d084bfe005445e0fe89c63a2bb37bab6a3dbf7c9065c84e9480112e",
                        "attributes": {
                            "id": "378c8b8d5d084bfe005445e0fe89c63a2bb37bab6a3dbf7c9065c84e9480112e",
                            "name": "gather2-prod-google-client-id",
                            "value": "577583494432-h3vferg6b7kn1ct7n3c5t95690u223ch.apps.googleusercontent.com"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.gather2_core": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_ecr_repository.gather2_core",
                        "aws_ecr_repository.gather2_core_nginx",
                        "data.credstash_secret.gather2_core"
                    ],
                    "primary": {
                        "id": "198638a93108a361c9985852d6a6c19dc7d2038d5894f25e4866cfdfbbfc298b",
                        "attributes": {
                            "id": "198638a93108a361c9985852d6a6c19dc7d2038d5894f25e4866cfdfbbfc298b",
                            "rendered": "[\n  {\n    \"name\": \"core\",\n    \"image\": \"387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-core-prod:latest\",\n    \"cpu\": 1,\n    \"memory\": 256,\n    \"essential\": true,\n    \"command\": [\"start\"],\n    \"environment\": [\n      { \"name\": \"RDS_HOSTNAME\", \"value\": \"gather2-prod.cpqsfknb8sgc.eu-west-1.rds.amazonaws.com\"},\n      { \"name\": \"RDS_USERNAME\", \"value\": \"gather2\"},\n      { \"name\": \"RDS_PASSWORD\", \"value\": \"nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W\"},\n      { \"name\": \"RDS_PORT\", \"value\": \"5432\"},\n      { \"name\": \"RDS_DB_NAME\", \"value\": \"gather2\"},\n      { \"name\": \"STATIC_ROOT\", \"value\": \"/var/www/static\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_PORT\", \"value\": \"1\"},\n      { \"name\": \"DJANGO_HTTP_X_FORWARDED_PROTO\", \"value\": \"1\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_HOST\", \"value\": \"1\"}\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-core\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ]\n  },\n  {\n    \"name\": \"core-nginx\",\n    \"image\": \"387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-core-nginx-prod:latest\",\n    \"cpu\": 1,\n    \"memory\": 128,\n    \"essential\": true,\n    \"links\": [\n      \"core\"\n    ],\n    \"portMappings\": [\n      {\n        \"containerPort\": 80\n      }\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-core\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ]\n  }\n]\n",
                            "template": "[\n  {\n    \"name\": \"core\",\n    \"image\": \"${image_url}\",\n    \"cpu\": 1,\n    \"memory\": 256,\n    \"essential\": true,\n    \"command\": [\"start\"],\n    \"environment\": [\n      { \"name\": \"RDS_HOSTNAME\", \"value\": \"${database_hostname}\"},\n      { \"name\": \"RDS_USERNAME\", \"value\": \"${database_user}\"},\n      { \"name\": \"RDS_PASSWORD\", \"value\": \"${database_password}\"},\n      { \"name\": \"RDS_PORT\", \"value\": \"${database_port}\"},\n      { \"name\": \"RDS_DB_NAME\", \"value\": \"${database_name}\"},\n      { \"name\": \"STATIC_ROOT\", \"value\": \"/var/www/static\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_PORT\", \"value\": \"${django_use_x_forwarded_port}\"},\n      { \"name\": \"DJANGO_HTTP_X_FORWARDED_PROTO\", \"value\": \"${django_http_x_forwarded_proto}\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_HOST\", \"value\": \"${django_use_x_forwarded_host}\"}\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-core\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ]\n  },\n  {\n    \"name\": \"core-nginx\",\n    \"image\": \"${nginx_image_url}\",\n    \"cpu\": 1,\n    \"memory\": 128,\n    \"essential\": true,\n    \"links\": [\n      \"core\"\n    ],\n    \"portMappings\": [\n      {\n        \"containerPort\": 80\n      }\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-core\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ]\n  }\n]\n",
                            "vars.%": "13",
                            "vars.application_container_name": "gather2-core",
                            "vars.database_hostname": "gather2-prod.cpqsfknb8sgc.eu-west-1.rds.amazonaws.com",
                            "vars.database_name": "gather2",
                            "vars.database_password": "nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W",
                            "vars.database_port": "5432",
                            "vars.database_user": "gather2",
                            "vars.django_http_x_forwarded_proto": "1",
                            "vars.django_use_x_forwarded_host": "1",
                            "vars.django_use_x_forwarded_port": "1",
                            "vars.host_port": "81",
                            "vars.image_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-core-prod:latest",
                            "vars.nginx_container_name": "gather2-core-nginx",
                            "vars.nginx_image_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-core-nginx-prod:latest"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.gather2_couchdb_sync": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_ecr_repository.gather2_couchdb",
                        "aws_ecr_repository.gather2_couchdb_sync",
                        "aws_ecr_repository.gather2_couchdb_sync_nginx",
                        "data.credstash_secret.database_password",
                        "data.credstash_secret.gather2_core",
                        "data.credstash_secret.gather2_token",
                        "data.credstash_secret.google_client_id"
                    ],
                    "primary": {
                        "id": "359081e6e63665e80cc7d6f1beddf6f847ed61b8b6d5fccd9cd4b3b0818388c1",
                        "attributes": {
                            "id": "359081e6e63665e80cc7d6f1beddf6f847ed61b8b6d5fccd9cd4b3b0818388c1",
                            "rendered": "[\n  {\n    \"name\": \"couchdb-sync\",\n    \"image\": \"387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-couchdb-sync-prod\",\n    \"cpu\": 1,\n    \"memory\": 256,\n    \"essential\": true,\n    \"command\": [\"start\"],\n    \"links\": [\n      \"couchdb\",\n      \"redis\"\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-couchdb-sync\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ],\n    \"environment\": [\n      { \"name\": \"RDS_HOSTNAME\", \"value\": \"gather2-prod.cpqsfknb8sgc.eu-west-1.rds.amazonaws.com\"},\n      { \"name\": \"RDS_USERNAME\", \"value\": \"gather2\"},\n      { \"name\": \"RDS_PASSWORD\", \"value\": \"nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W\"},\n      { \"name\": \"RDS_PORT\", \"value\": \"5432\"},\n      { \"name\": \"RDS_DB_NAME\", \"value\": \"couchdb_sync\"},\n      { \"name\": \"STATIC_ROOT\", \"value\": \"/var/www/static\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_PORT\", \"value\": \"1\"},\n      { \"name\": \"DJANGO_HTTP_X_FORWARDED_PROTO\", \"value\": \"1\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_HOST\", \"value\": \"1\"},\n      { \"name\": \"COUCHDB_URL\", \"value\": \"http://couchdb:5984\"},\n      { \"name\": \"COUCHDB_USER\", \"value\": \"admin\"},\n      { \"name\": \"COUCHDB_PASSWORD\", \"value\": \"nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W\"},\n      { \"name\": \"GOOGLE_CLIENT_ID\", \"value\": \"577583494432-h3vferg6b7kn1ct7n3c5t95690u223ch.apps.googleusercontent.com\"},\n      { \"name\": \"GATHER_CORE_URL\", \"value\": \"https://core-gather-.ehealthafrica.org\"},\n      { \"name\": \"GATHER_CORE_TOKEN\", \"value\": \"oongie5ogaihei2aebaD\"},\n      { \"name\": \"REDIS_HOST\", \"value\": \"redis\"},\n      { \"name\": \"REDIS_PORT\", \"value\": \"6379\"},\n      { \"name\": \"REDIS_DATABASE\", \"value\": \"0\"}\n    ]\n  },\n  {\n    \"name\": \"couchdb-sync-worker\",\n    \"image\": \"387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-couchdb-sync-prod\",\n    \"cpu\": 1,\n    \"memory\": 128,\n    \"essential\": true,\n    \"command\": [\"start_rq\"],\n    \"links\": [\n      \"couchdb\",\n      \"redis\"\n    ],\n    \"environment\": [\n      { \"name\": \"RDS_HOSTNAME\", \"value\": \"gather2-prod.cpqsfknb8sgc.eu-west-1.rds.amazonaws.com\"},\n      { \"name\": \"RDS_USERNAME\", \"value\": \"gather2\"},\n      { \"name\": \"RDS_PASSWORD\", \"value\": \"nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W\"},\n      { \"name\": \"RDS_PORT\", \"value\": \"5432\"},\n      { \"name\": \"RDS_DB_NAME\", \"value\": \"couchdb_sync\"},\n      { \"name\": \"STATIC_ROOT\", \"value\": \"/var/www/static\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_PORT\", \"value\": \"1\"},\n      { \"name\": \"DJANGO_HTTP_X_FORWARDED_PROTO\", \"value\": \"1\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_HOST\", \"value\": \"1\"},\n      { \"name\": \"COUCHDB_URL\", \"value\": \"http://couchdb:5984\"},\n      { \"name\": \"COUCHDB_USER\", \"value\": \"admin\"},\n      { \"name\": \"COUCHDB_PASSWORD\", \"value\": \"nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W\"},\n      { \"name\": \"GOOGLE_CLIENT_ID\", \"value\": \"577583494432-h3vferg6b7kn1ct7n3c5t95690u223ch.apps.googleusercontent.com\"},\n      { \"name\": \"GATHER_CORE_URL\", \"value\": \"https://core-gather-dev.ehealthafrica.org\"},\n      { \"name\": \"GATHER_CORE_TOKEN\", \"value\": \"oongie5ogaihei2aebaD\"},\n      { \"name\": \"REDIS_HOST\", \"value\": \"redis\"},\n      { \"name\": \"REDIS_PORT\", \"value\": \"6379\"},\n      { \"name\": \"REDIS_DATABASE\", \"value\": \"0\"}\n    ]\n  },\n  {\n    \"name\": \"couchdb-sync-nginx\",\n    \"image\": \"387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-couchdb-sync-nginx-prod\",\n    \"cpu\": 1,\n    \"memory\": 128,\n    \"essential\": true,\n    \"portMappings\": [\n      {\n        \"containerPort\": 80\n      }\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-couchdb-sync\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ],\n    \"links\": [\n      \"couchdb\",\n      \"couchdb-sync\"\n    ]\n  },\n  {\n    \"name\": \"couchdb\",\n    \"image\": \"387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-couchdb-prod\",\n    \"cpu\": 1,\n    \"memory\": 256,\n    \"essential\": true,\n    \"environment\": [\n      { \"name\": \"COUCHDB_USER\", \"value\": \"admin\"},\n      { \"name\": \"COUCHDB_PASSWORD\", \"value\": \"nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W\"}\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"couchdb-data\",\n        \"containerPath\": \"/usr/local/var/lib/couchdb\"\n      }\n    ]\n  },\n  {\n    \"name\": \"redis\",\n    \"image\": \"redis:3.2\",\n    \"cpu\": 1,\n    \"memory\": 256,\n    \"essential\": true,\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"redis-data\",\n        \"containerPath\": \"/data\"\n      }\n    ]\n  }\n]\n",
                            "template": "[\n  {\n    \"name\": \"couchdb-sync\",\n    \"image\": \"${image_url}\",\n    \"cpu\": 1,\n    \"memory\": 256,\n    \"essential\": true,\n    \"command\": [\"start\"],\n    \"links\": [\n      \"couchdb\",\n      \"redis\"\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-couchdb-sync\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ],\n    \"environment\": [\n      { \"name\": \"RDS_HOSTNAME\", \"value\": \"${database_hostname}\"},\n      { \"name\": \"RDS_USERNAME\", \"value\": \"${database_user}\"},\n      { \"name\": \"RDS_PASSWORD\", \"value\": \"${database_password}\"},\n      { \"name\": \"RDS_PORT\", \"value\": \"${database_port}\"},\n      { \"name\": \"RDS_DB_NAME\", \"value\": \"couchdb_sync\"},\n      { \"name\": \"STATIC_ROOT\", \"value\": \"/var/www/static\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_PORT\", \"value\": \"${django_use_x_forwarded_port}\"},\n      { \"name\": \"DJANGO_HTTP_X_FORWARDED_PROTO\", \"value\": \"${django_http_x_forwarded_proto}\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_HOST\", \"value\": \"${django_use_x_forwarded_host}\"},\n      { \"name\": \"COUCHDB_URL\", \"value\": \"http://couchdb:5984\"},\n      { \"name\": \"COUCHDB_USER\", \"value\": \"admin\"},\n      { \"name\": \"COUCHDB_PASSWORD\", \"value\": \"${couchdb_password}\"},\n      { \"name\": \"GOOGLE_CLIENT_ID\", \"value\": \"${google_client_id}\"},\n      { \"name\": \"GATHER_CORE_URL\", \"value\": \"${gather2_core_url}\"},\n      { \"name\": \"GATHER_CORE_TOKEN\", \"value\": \"${gather2_token}\"},\n      { \"name\": \"REDIS_HOST\", \"value\": \"redis\"},\n      { \"name\": \"REDIS_PORT\", \"value\": \"6379\"},\n      { \"name\": \"REDIS_DATABASE\", \"value\": \"0\"}\n    ]\n  },\n  {\n    \"name\": \"couchdb-sync-worker\",\n    \"image\": \"${image_url}\",\n    \"cpu\": 1,\n    \"memory\": 128,\n    \"essential\": true,\n    \"command\": [\"start_rq\"],\n    \"links\": [\n      \"couchdb\",\n      \"redis\"\n    ],\n    \"environment\": [\n      { \"name\": \"RDS_HOSTNAME\", \"value\": \"${database_hostname}\"},\n      { \"name\": \"RDS_USERNAME\", \"value\": \"${database_user}\"},\n      { \"name\": \"RDS_PASSWORD\", \"value\": \"${database_password}\"},\n      { \"name\": \"RDS_PORT\", \"value\": \"${database_port}\"},\n      { \"name\": \"RDS_DB_NAME\", \"value\": \"couchdb_sync\"},\n      { \"name\": \"STATIC_ROOT\", \"value\": \"/var/www/static\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_PORT\", \"value\": \"${django_use_x_forwarded_port}\"},\n      { \"name\": \"DJANGO_HTTP_X_FORWARDED_PROTO\", \"value\": \"${django_http_x_forwarded_proto}\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_HOST\", \"value\": \"${django_use_x_forwarded_host}\"},\n      { \"name\": \"COUCHDB_URL\", \"value\": \"http://couchdb:5984\"},\n      { \"name\": \"COUCHDB_USER\", \"value\": \"admin\"},\n      { \"name\": \"COUCHDB_PASSWORD\", \"value\": \"${couchdb_password}\"},\n      { \"name\": \"GOOGLE_CLIENT_ID\", \"value\": \"${google_client_id}\"},\n      { \"name\": \"GATHER_CORE_URL\", \"value\": \"https://core-gather-dev.ehealthafrica.org\"},\n      { \"name\": \"GATHER_CORE_TOKEN\", \"value\": \"${gather2_token}\"},\n      { \"name\": \"REDIS_HOST\", \"value\": \"redis\"},\n      { \"name\": \"REDIS_PORT\", \"value\": \"6379\"},\n      { \"name\": \"REDIS_DATABASE\", \"value\": \"0\"}\n    ]\n  },\n  {\n    \"name\": \"couchdb-sync-nginx\",\n    \"image\": \"${nginx_image_url}\",\n    \"cpu\": 1,\n    \"memory\": 128,\n    \"essential\": true,\n    \"portMappings\": [\n      {\n        \"containerPort\": 80\n      }\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-couchdb-sync\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ],\n    \"links\": [\n      \"couchdb\",\n      \"couchdb-sync\"\n    ]\n  },\n  {\n    \"name\": \"couchdb\",\n    \"image\": \"${couchdb_image_url}\",\n    \"cpu\": 1,\n    \"memory\": 256,\n    \"essential\": true,\n    \"environment\": [\n      { \"name\": \"COUCHDB_USER\", \"value\": \"admin\"},\n      { \"name\": \"COUCHDB_PASSWORD\", \"value\": \"${couchdb_password}\"}\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"couchdb-data\",\n        \"containerPath\": \"/usr/local/var/lib/couchdb\"\n      }\n    ]\n  },\n  {\n    \"name\": \"redis\",\n    \"image\": \"redis:3.2\",\n    \"cpu\": 1,\n    \"memory\": 256,\n    \"essential\": true,\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"redis-data\",\n        \"containerPath\": \"/data\"\n      }\n    ]\n  }\n]\n",
                            "vars.%": "15",
                            "vars.couchdb_image_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-couchdb-prod",
                            "vars.couchdb_password": "nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W",
                            "vars.database_hostname": "gather2-prod.cpqsfknb8sgc.eu-west-1.rds.amazonaws.com",
                            "vars.database_name": "gather2",
                            "vars.database_password": "nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W",
                            "vars.database_port": "5432",
                            "vars.database_user": "gather2",
                            "vars.django_http_x_forwarded_proto": "1",
                            "vars.django_use_x_forwarded_host": "1",
                            "vars.django_use_x_forwarded_port": "1",
                            "vars.gather2_core_url": "https://core-gather-.ehealthafrica.org",
                            "vars.gather2_token": "oongie5ogaihei2aebaD",
                            "vars.google_client_id": "577583494432-h3vferg6b7kn1ct7n3c5t95690u223ch.apps.googleusercontent.com",
                            "vars.image_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-couchdb-sync-prod",
                            "vars.nginx_image_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-couchdb-sync-nginx-prod"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.gather2_odk_importer": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_ecr_repository.gather2_odk_importer",
                        "aws_ecr_repository.gather2_odk_importer_nginx",
                        "data.credstash_secret.gather2_odk_importer"
                    ],
                    "primary": {
                        "id": "a0feddac0858d1eab329596bea50e715734f4c5997e4a43444f4478bbd5f70db",
                        "attributes": {
                            "id": "a0feddac0858d1eab329596bea50e715734f4c5997e4a43444f4478bbd5f70db",
                            "rendered": "[\n  {\n    \"name\": \"odk-importer\",\n    \"image\": \"387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-odk-importer-prod\",\n    \"cpu\": 1,\n    \"memory\": 256,\n    \"essential\": true,\n    \"command\": [\"start\"],\n    \"environment\": [\n      { \"name\": \"RDS_HOSTNAME\", \"value\": \"gather2-prod.cpqsfknb8sgc.eu-west-1.rds.amazonaws.com\"},\n      { \"name\": \"RDS_USERNAME\", \"value\": \"gather2\"},\n      { \"name\": \"RDS_PASSWORD\", \"value\": \"nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W\"},\n      { \"name\": \"RDS_PORT\", \"value\": \"5432\"},\n      { \"name\": \"RDS_DB_NAME\", \"value\": \"odk_importer\"},\n      { \"name\": \"STATIC_ROOT\", \"value\": \"/var/www/static\" },\n      { \"name\": \"DJANGO_USE_X_FORWARDED_PORT\", \"value\": \"1\"},\n      { \"name\": \"DJANGO_HTTP_X_FORWARDED_PROTO\", \"value\": \"1\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_HOST\", \"value\": \"1\"}\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-odk-importer\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ]\n  },\n  {\n    \"name\": \"odk-importer-nginx\",\n    \"image\": \"387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-odk-importer-nginx-prod:latest\",\n    \"cpu\": 1,\n    \"memory\": 128,\n    \"essential\": true,\n    \"links\": [\n      \"odk-importer\"\n    ],\n    \"portMappings\": [\n      {\n        \"containerPort\": 80\n      }\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-odk-importer\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ]\n  }\n]\n",
                            "template": "[\n  {\n    \"name\": \"odk-importer\",\n    \"image\": \"${image_url}\",\n    \"cpu\": 1,\n    \"memory\": 256,\n    \"essential\": true,\n    \"command\": [\"start\"],\n    \"environment\": [\n      { \"name\": \"RDS_HOSTNAME\", \"value\": \"${database_hostname}\"},\n      { \"name\": \"RDS_USERNAME\", \"value\": \"${database_user}\"},\n      { \"name\": \"RDS_PASSWORD\", \"value\": \"${database_password}\"},\n      { \"name\": \"RDS_PORT\", \"value\": \"${database_port}\"},\n      { \"name\": \"RDS_DB_NAME\", \"value\": \"odk_importer\"},\n      { \"name\": \"STATIC_ROOT\", \"value\": \"/var/www/static\" },\n      { \"name\": \"DJANGO_USE_X_FORWARDED_PORT\", \"value\": \"${django_use_x_forwarded_port}\"},\n      { \"name\": \"DJANGO_HTTP_X_FORWARDED_PROTO\", \"value\": \"${django_http_x_forwarded_proto}\"},\n      { \"name\": \"DJANGO_USE_X_FORWARDED_HOST\", \"value\": \"${django_use_x_forwarded_host}\"}\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-odk-importer\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ]\n  },\n  {\n    \"name\": \"odk-importer-nginx\",\n    \"image\": \"${nginx_image_url}\",\n    \"cpu\": 1,\n    \"memory\": 128,\n    \"essential\": true,\n    \"links\": [\n      \"odk-importer\"\n    ],\n    \"portMappings\": [\n      {\n        \"containerPort\": 80\n      }\n    ],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"static-odk-importer\",\n        \"containerPath\": \"/var/www/static\"\n      }\n    ]\n  }\n]\n",
                            "vars.%": "13",
                            "vars.application_container_name": "gather2-odk-importer",
                            "vars.database_hostname": "gather2-prod.cpqsfknb8sgc.eu-west-1.rds.amazonaws.com",
                            "vars.database_name": "gather2",
                            "vars.database_password": "nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W",
                            "vars.database_port": "5432",
                            "vars.database_user": "gather2",
                            "vars.django_http_x_forwarded_proto": "1",
                            "vars.django_use_x_forwarded_host": "1",
                            "vars.django_use_x_forwarded_port": "1",
                            "vars.host_port": "82",
                            "vars.image_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-odk-importer-prod",
                            "vars.nginx_container_name": "gather2-odk-importer-nginx",
                            "vars.nginx_image_url": "387526361725.dkr.ecr.eu-west-1.amazonaws.com/gather2-odk-importer-nginx-prod:latest"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "rds"
            ],
            "outputs": {
                "database_hostname": {
                    "sensitive": false,
                    "type": "string",
                    "value": "gather2-prod.cpqsfknb8sgc.eu-west-1.rds.amazonaws.com"
                },
                "database_password": {
                    "sensitive": false,
                    "type": "string",
                    "value": "nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W"
                }
            },
            "resources": {
                "aws_db_instance.default": {
                    "type": "aws_db_instance",
                    "depends_on": [
                        "aws_db_subnet_group.default",
                        "data.credstash_secret.password"
                    ],
                    "primary": {
                        "id": "gather2-prod",
                        "attributes": {
                            "address": "gather2-prod.cpqsfknb8sgc.eu-west-1.rds.amazonaws.com",
                            "allocated_storage": "10",
                            "arn": "arn:aws:rds:eu-west-1:387526361725:db:gather2-prod",
                            "auto_minor_version_upgrade": "true",
                            "availability_zone": "eu-west-1a",
                            "backup_retention_period": "30",
                            "backup_window": "02:11-02:41",
                            "copy_tags_to_snapshot": "false",
                            "db_subnet_group_name": "gather2-prod",
                            "endpoint": "gather2-prod.cpqsfknb8sgc.eu-west-1.rds.amazonaws.com:5432",
                            "engine": "postgres",
                            "engine_version": "9.5.4",
                            "final_snapshot_identifier": "gather2-prod",
                            "hosted_zone_id": "Z29XKXDKYMONMX",
                            "id": "gather2-prod",
                            "identifier": "gather2-prod",
                            "instance_class": "db.t2.medium",
                            "iops": "0",
                            "kms_key_id": "",
                            "license_model": "postgresql-license",
                            "maintenance_window": "wed:04:29-wed:04:59",
                            "monitoring_interval": "0",
                            "multi_az": "false",
                            "name": "gather2",
                            "option_group_name": "default:postgres-9-5",
                            "parameter_group_name": "default.postgres9.5",
                            "password": "nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W",
                            "port": "5432",
                            "publicly_accessible": "false",
                            "replicas.#": "0",
                            "replicate_source_db": "",
                            "security_group_names.#": "0",
                            "skip_final_snapshot": "false",
                            "status": "available",
                            "storage_encrypted": "false",
                            "storage_type": "standard",
                            "tags.%": "1",
                            "tags.BILLING_PROJECT": "gather2",
                            "timezone": "",
                            "username": "gather2",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.920460491": "sg-74929a0d"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 2400000000000,
                                "delete": 2400000000000,
                                "update": 4800000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_db_subnet_group.default": {
                    "type": "aws_db_subnet_group",
                    "depends_on": [],
                    "primary": {
                        "id": "gather2-prod",
                        "attributes": {
                            "arn": "arn:aws:rds:eu-west-1:387526361725:subgrp:gather2-prod",
                            "description": "Managed by Terraform",
                            "id": "gather2-prod",
                            "name": "gather2-prod",
                            "subnet_ids.#": "3",
                            "subnet_ids.16579768": "subnet-21161745",
                            "subnet_ids.2022954451": "subnet-7daeaa0b",
                            "subnet_ids.3510046643": "subnet-1ad49642",
                            "tags.%": "1",
                            "tags.Name": "gather2-prod DB subnet"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.credstash_secret.password": {
                    "type": "credstash_secret",
                    "depends_on": [],
                    "primary": {
                        "id": "1102406b830f7f7f363928723b17e363853d8409d20cd4851c8db213ce03a0d9",
                        "attributes": {
                            "id": "1102406b830f7f7f363928723b17e363853d8409d20cd4851c8db213ce03a0d9",
                            "name": "gather2-prod-database-password",
                            "value": "nooxiengaiPeegaWahponooL9er5pho1aithooFohl2ithih0W"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        }
    ]
}
